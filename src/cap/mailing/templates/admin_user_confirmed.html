{# src/cap/mailing/templates/admin_user_confirmed.html #} {% extends
"base_email.html" %} {% block preheader %} {{ translations.preheader or "A user
has just been confirmed/approved in your CAP instance." }} {% endblock %} {%
block content %}
<h2 style="margin: 0 0 12px 0">{{ translations.title or "User confirmed" }}</h2>

{# App label #} {% set _app = (app_name or translations.app_name or "CAP") %} {#
Lead text (avoid "CAP. CAP.") #} {% set _raw_lead = (translations.lead or "A
user account has just been confirmed/approved on {app_name}.") %} {# If
translations uses {app_name}, replace it. Otherwise, only append app if not
already present. #} {% if "{app_name}" in _raw_lead %} {% set _lead =
_raw_lead.replace("{app_name}", _app) %} {% else %} {% set _lead = _raw_lead %}
{% endif %} {% set _lead_lc = (_lead|string)|lower %} {% set _app_lc =
(_app|string)|lower %}

<p style="margin: 0 0 12px 0">
  {% if _app_lc in _lead_lc %} {{ _lead }} {% else %} {{ _lead }}
  <span style="white-space: nowrap">
    {{ _app }}{% if not (_lead.endswith(".") or _lead.endswith("!") or
    _lead.endswith("?")) %}.{% endif %}
  </span>
  {% endif %}
</p>

<table
  role="presentation"
  cellpadding="0"
  cellspacing="0"
  border="0"
  style="margin: 0 0 16px 0; border-collapse: collapse; font-size: 14px"
>
  {% if confirmed_user_username %}
  <tr>
    <td style="padding: 4px 8px 4px 0; font-weight: 600; white-space: nowrap">
      {{ translations.username_label or "Username" }}:
    </td>
    <td style="padding: 4px 0">{{ confirmed_user_username }}</td>
  </tr>
  {% endif %} {% if confirmed_user_email %}
  <tr>
    <td style="padding: 4px 8px 4px 0; font-weight: 600; white-space: nowrap">
      {{ translations.email_label or "Email" }}:
    </td>
    <td style="padding: 4px 0">{{ confirmed_user_email }}</td>
  </tr>
  {% endif %} {% if source %}
  <tr>
    <td style="padding: 4px 8px 4px 0; font-weight: 600; white-space: nowrap">
      {{ translations.source_label or "Source" }}:
    </td>
    <td style="padding: 4px 0">
      {% if source == "password" %} {{ translations.source_password or "Email &
      password" }} {% elif source == "google" %} {{ translations.source_google
      or "Google OAuth" }} {% elif source == "cardano" %} {{
      translations.source_cardano or "Cardano wallet" }} {% elif source ==
      "waitlist" %} {{ translations.source_waitlist or "Waitlist" }} {% else %}
      {{ source }} {% endif %}
    </td>
  </tr>
  {% endif %}
</table>

{% if app_url %}
<p style="margin: 0 0 16px 0">
  {{ translations.manage_hint or "You can review the user’s details and
  permissions in the admin panel." }}
</p>

<p style="margin: 0 0 16px 0">
  <a
    href="{{ app_url }}"
    class="btn"
    style="
      display: inline-block;
      padding: 10px 18px;
      border-radius: 999px;
      background-color: #2563eb;
      color: #ffffff;
      font-size: 14px;
      font-weight: 600;
      text-decoration: none;
      line-height: 1.2;
    "
  >
    {{ translations.manage_link_label or "Open CAP" }}
  </a>
</p>
{% endif %}

<p style="color: #6b7280; font-size: 12px; margin: 0">
  {{ translations.footer or "You’re receiving this message because admin
  notifications are enabled." }}
</p>
{% endblock %}
